# Review Predictor ğŸ¯

> æ–°å•†å“ã®èª¬æ˜æ–‡ã‹ã‚‰ã€10,000äººã®ä»®æƒ³é¡§å®¢ãŒã©ã†è©•ä¾¡ã™ã‚‹ã‹ã‚’äºˆæ¸¬ã™ã‚‹ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ„ãƒ¼ãƒ«

---

## ãƒãƒ¼ãƒ æƒ…å ±

| é …ç›® | å†…å®¹ |
|------|------|
| **ãƒãƒ¼ãƒ å** | ãŠã§ã‚“ |
| **æˆæ¥­å** | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ æœ€çµ‚èª²é¡Œ |

### ãƒ¡ãƒ³ãƒãƒ¼

| å­¦ç±ç•ªå· | æ°å |
|---------|------|
| 2442001 | èµ¤å¡©ç”« |
| 2442003 | é˜¿éƒ¨ç´”å¤ª |
| 2442040 | ã‚·ãƒ£ãƒªãƒ•å¤§ç¦ |
| 2442071 | æœç”°æ„›æ¨¹ |

---

## ãƒ‡ãƒ¢

### ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦å›³

![ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦å›³](docs/images/system-overview.png)

*â€» ç”»åƒãŒãªã„å ´åˆã¯ä¸‹è¨˜ã®Mermaidå›³ã‚’å‚ç…§*

### ãƒ‡ãƒ¢å‹•ç”»

https://github.com/user-attachments/assets/ï¼ˆã“ã“ã«å‹•ç”»IDã‚’è²¼ã‚Šä»˜ã‘ï¼‰

*â€» å‹•ç”»ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¾Œã€URLã‚’è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„*

---

## ğŸ‘¤ ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆãƒšãƒ«ã‚½ãƒŠï¼‰

### ãƒšãƒ«ã‚½ãƒŠ1: ç”°ä¸­ ç¾å’²ï¼ˆ32æ­³ï¼‰- ECå‡ºå“è€…

| é …ç›® | å†…å®¹ |
|------|------|
| **è·æ¥­** | ãƒãƒ³ãƒ‰ãƒ¡ã‚¤ãƒ‰ã‚¢ã‚¯ã‚»ã‚µãƒªãƒ¼ä½œå®¶ |
| **ECã‚µã‚¤ãƒˆ** | minne, Creema ã§è²©å£²ä¸­ |
| **æ‚©ã¿** | æ–°ä½œã‚’å‡ºã—ã¦ã‚‚æœ€åˆã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒã¤ãã¾ã§å£²ã‚Œãªã„ã€‚èª¬æ˜æ–‡ã‚’ã©ã†æ›¸ã‘ã°éŸ¿ãã‹ã‚ã‹ã‚‰ãªã„ |
| **ITã‚¹ã‚­ãƒ«** | ã‚¹ãƒãƒ›ã¯å¾—æ„ã€PCã¯è‹¦æ‰‹ |
| **åˆ©ç”¨ã‚·ãƒ¼ãƒ³** | æ–°ä½œç™ºè¡¨å‰ã«ã€Œã“ã®èª¬æ˜æ–‡ã§å¤§ä¸ˆå¤«ï¼Ÿã€ã¨ç¢ºèªã—ãŸã„ |

**ã“ã®ã‚¢ãƒ—ãƒªã§è§£æ±ºã§ãã‚‹ã“ã¨:**
- å‡ºå“å‰ã«é¡§å®¢ã®åå¿œã‚’äºˆæ¸¬
- ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåˆ¥åˆ†æã§ã€Œå“è³ªé‡è¦–å±¤ã«ã¯éŸ¿ããŒã€ä¾¡æ ¼é‡è¦–å±¤ã«ã¯å³ã—ã„ã€ãªã©ã®æ°—ã¥ãã‚’å¾—ã‚‹
- èª¬æ˜æ–‡ã‚’æ”¹å–„ã™ã‚‹ãƒ’ãƒ³ãƒˆã‚’å¾—ã‚‹

---

### ãƒšãƒ«ã‚½ãƒŠ2: éˆ´æœ¨ å¥å¤ªï¼ˆ28æ­³ï¼‰- ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã®ãƒãƒ¼ã‚±ã‚¿ãƒ¼

| é …ç›® | å†…å®¹ |
|------|------|
| **è·æ¥­** | D2Cãƒ–ãƒ©ãƒ³ãƒ‰ã®ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æ‹…å½“ |
| **æ‹…å½“** | è‡ªç¤¾ECã‚µã‚¤ãƒˆã®å•†å“ãƒšãƒ¼ã‚¸æœ€é©åŒ– |
| **æ‚©ã¿** | A/Bãƒ†ã‚¹ãƒˆã«æ™‚é–“ãŒã‹ã‹ã‚‹ã€‚äº‹å‰ã«åå¿œã‚’äºˆæ¸¬ã—ã¦ã‹ã‚‰æœ¬ç•ªãƒ†ã‚¹ãƒˆã—ãŸã„ |
| **ITã‚¹ã‚­ãƒ«** | é«˜ã„ã€‚ãƒ‡ãƒ¼ã‚¿åˆ†æãƒ„ãƒ¼ãƒ«ã‚‚ä½¿ã„ã“ãªã™ |
| **åˆ©ç”¨ã‚·ãƒ¼ãƒ³** | å•†å“ãƒšãƒ¼ã‚¸ã®ãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ«æ™‚ã«è¤‡æ•°æ¡ˆã‚’æ¯”è¼ƒè©•ä¾¡ |

**ã“ã®ã‚¢ãƒ—ãƒªã§è§£æ±ºã§ãã‚‹ã“ã¨:**
- è¤‡æ•°ã®èª¬æ˜æ–‡æ¡ˆã‚’ç´ æ—©ãæ¯”è¼ƒ
- ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ã„ãŸæ„æ€æ±ºå®š
- ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æ–½ç­–ã®äº‹å‰æ¤œè¨¼

---

### ãƒšãƒ«ã‚½ãƒŠ3: å±±ç”° å¤ªéƒï¼ˆ45æ­³ï¼‰- ä¸­å°ä¼æ¥­ã®å•†å“ä¼ç”»éƒ¨é•·

| é …ç›® | å†…å®¹ |
|------|------|
| **è·æ¥­** | ç”Ÿæ´»é›‘è²¨ãƒ¡ãƒ¼ã‚«ãƒ¼ã®å•†å“ä¼ç”»éƒ¨é•· |
| **æ‹…å½“** | æ–°å•†å“ã®ä¼ç”»ãƒ»è²©å£²æˆ¦ç•¥ |
| **æ‚©ã¿** | ç¤¾å†…ãƒ—ãƒ¬ã‚¼ãƒ³ã§ã€Œã“ã®å•†å“ã¯å£²ã‚Œã‚‹ã®ã‹ï¼Ÿã€ã¨èã‹ã‚Œã¦ã‚‚æ ¹æ‹ ã‚’ç¤ºã›ãªã„ |
| **ITã‚¹ã‚­ãƒ«** | Excelç¨‹åº¦ã€‚æ–°ã—ã„ãƒ„ãƒ¼ãƒ«ã«ã¯æ…é‡ |
| **åˆ©ç”¨ã‚·ãƒ¼ãƒ³** | ä¼ç”»ä¼šè­°å‰ã«å¸‚å ´ã®åå¿œã‚’äºˆæ¸¬ã—ã€è³‡æ–™ã«æ·»ãˆã‚‹ |

**ã“ã®ã‚¢ãƒ—ãƒªã§è§£æ±ºã§ãã‚‹ã“ã¨:**
- äºˆæ¸¬è©•ä¾¡ã‚’ä¼ç”»æ›¸ã®ã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹ã¨ã—ã¦æ´»ç”¨
- ã€Œå“è³ªé‡è¦–å±¤ã‹ã‚‰ã®è©•ä¾¡ãŒé«˜ã„ã€ãªã©ã€å…·ä½“çš„ãªã‚¿ãƒ¼ã‚²ãƒƒãƒˆææ¡ˆãŒã§ãã‚‹
- ç›´æ„Ÿã§ã¯ãªããƒ‡ãƒ¼ã‚¿ã§èª¬å¾—

---

## ğŸ“– ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®èƒŒæ™¯

### è§£æ±ºã—ãŸã„èª²é¡Œ

ECã‚µã‚¤ãƒˆã§æ–°å•†å“ã‚’å‡ºå“ã™ã‚‹éš›ã€**ã€Œã“ã®å•†å“ã¯å£²ã‚Œã‚‹ã®ã‹ï¼Ÿã€** ã¨ã„ã†ä¸å®‰ãŒã‚ã‚Šã¾ã™ã€‚

- ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒãªã„æ–°å•†å“ã¯è³¼å…¥ã•ã‚Œã«ãã„
- å®Ÿéš›ã«å£²ã‚Šå‡ºã™ã¾ã§é¡§å®¢ã®åå¿œãŒã‚ã‹ã‚‰ãªã„
- å•†å“èª¬æ˜æ–‡ã®æ›¸ãæ–¹ã§å£²ä¸ŠãŒå¤§ããå¤‰ã‚ã‚‹

### æœ¬ã‚·ã‚¹ãƒ†ãƒ ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

**ã€Œå£²ã‚‹å‰ã«ã€é¡§å®¢ã®åå¿œã‚’äºˆæ¸¬ã§ããŸã‚‰ï¼Ÿã€**

æœ¬ã‚·ã‚¹ãƒ†ãƒ ã¯ã€10,000äººã®ä»®æƒ³é¡§å®¢ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’äº‹å‰ã«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æ ¼ç´ã—ã€å•†å“èª¬æ˜æ–‡ã¨ã®**ãƒ™ã‚¯ãƒˆãƒ«é¡ä¼¼åº¦**ã‚’è¨ˆç®—ã™ã‚‹ã“ã¨ã§ã€å„é¡§å®¢ãŒã©ã®ã‚ˆã†ãªè©•ä¾¡ï¼ˆâ˜…1ã€œ5ï¼‰ã‚’ã¤ã‘ã‚‹ã‹ã‚’äºˆæ¸¬ã—ã¾ã™ã€‚

```
å•†å“èª¬æ˜æ–‡ â†’ ãƒ™ã‚¯ãƒˆãƒ«åŒ– â†’ 10,000äººã¨ã®é¡ä¼¼åº¦è¨ˆç®— â†’ è©•ä¾¡äºˆæ¸¬ â†’ çµ±è¨ˆè¡¨ç¤º
```

ã“ã‚Œã«ã‚ˆã‚Šã€å‡ºå“å‰ã«ã€Œã“ã®å•†å“èª¬æ˜æ–‡ã§ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå±¤ã«éŸ¿ãã‹ï¼Ÿã€ã‚’ç¢ºèªã§ãã¾ã™ã€‚

---

## ğŸ–¥ï¸ ã‚·ã‚¹ãƒ†ãƒ ã®ç”»é¢ãƒ•ãƒ­ãƒ¼

### 1. å…¥åŠ›ç”»é¢ï¼ˆ/inputï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Review Predictor                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ğŸ“ å•†å“èª¬æ˜ã‚’å…¥åŠ›                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚  é«˜ç´šã‚¤ã‚¿ãƒªã‚¢ãƒ³ãƒ¬ã‚¶ãƒ¼ã‚’ä½¿ç”¨ã—ãŸè·äººæ‰‹ä½œã‚Šã®è²¡å¸ƒã€‚   â”‚   â”‚
â”‚  â”‚  10å¹´ä½¿ãˆã‚‹è€ä¹…æ€§ã¨ã€ä½¿ã„è¾¼ã‚€ã»ã©å‘³ãŒå‡ºã‚‹çµŒå¹´å¤‰åŒ–   â”‚   â”‚
â”‚  â”‚  ãŒç‰¹å¾´ã§ã™ã€‚                                       â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                           [ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ]  â”‚
â”‚                                                             â”‚
â”‚  ğŸ“œ æœ€è¿‘ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³                                  â”‚
â”‚  â”œâ”€ 2024/01/14 ã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒƒãƒ... â˜…4.2                   â”‚
â”‚  â”œâ”€ 2024/01/13 ã‚ªãƒ¼ã‚¬ãƒ‹ãƒƒã‚¯åŒ–ç²§å“... â˜…3.8                 â”‚
â”‚  â””â”€ 2024/01/12 ãƒ¯ã‚¤ãƒ¤ãƒ¬ã‚¹ã‚¤ãƒ¤ãƒ›ãƒ³... â˜…4.5                 â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ©Ÿèƒ½:**
- å•†å“èª¬æ˜æ–‡ã®å…¥åŠ›ï¼ˆ10æ–‡å­—ä»¥ä¸Šå¿…é ˆï¼‰
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ–‡å­—æ•°ã‚«ã‚¦ãƒ³ãƒˆ
- éå»5ä»¶ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å±¥æ­´è¡¨ç¤º

---

### 2. çµæœç”»é¢ï¼ˆ/result/[id]ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³çµæœ                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ å¹³å‡è©•ä¾¡ â”‚ â”‚ è³¼å…¥ç‡   â”‚ â”‚ ç·ãƒ¬ãƒ“ãƒ¥ãƒ¼ â”‚                   â”‚
â”‚  â”‚  â˜…4.2   â”‚ â”‚  68.5%  â”‚ â”‚  10,000  â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                             â”‚
â”‚  ğŸ“Š è©•ä¾¡åˆ†å¸ƒ                                                â”‚
â”‚  â˜…5 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 35%                               â”‚
â”‚  â˜…4 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 45%                         â”‚
â”‚  â˜…3 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 12%                                             â”‚
â”‚  â˜…2 â–ˆâ–ˆ 5%                                                  â”‚
â”‚  â˜…1 â–ˆ 3%                                                   â”‚
â”‚                                                             â”‚
â”‚  ğŸ‘¥ ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåˆ¥åˆ†æ                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ      â”‚ å¹³å‡è©•ä¾¡ â”‚ äººæ•°  â”‚ ç‰¹å¾´          â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ å“è³ªé‡è¦–å±¤      â”‚  â˜…4.8   â”‚ 2,500 â”‚ é«˜è©•ä¾¡å‚¾å‘    â”‚   â”‚
â”‚  â”‚ ãƒ–ãƒ©ãƒ³ãƒ‰å¿—å‘å±¤  â”‚  â˜…4.5   â”‚ 2,500 â”‚ ã‚„ã‚„é«˜è©•ä¾¡    â”‚   â”‚
â”‚  â”‚ ãƒ‡ã‚¶ã‚¤ãƒ³é‡è¦–å±¤  â”‚  â˜…4.0   â”‚ 2,500 â”‚ ä¸­ç«‹çš„        â”‚   â”‚
â”‚  â”‚ ä¾¡æ ¼é‡è¦–å±¤      â”‚  â˜…3.2   â”‚ 2,500 â”‚ å³ã—ã‚è©•ä¾¡    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  ğŸ’¬ ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ“ãƒ¥ãƒ¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â˜…â˜…â˜…â˜…â˜… (é¡ä¼¼åº¦: 0.92)                                 â”‚   â”‚
â”‚  â”‚ ã€Œç´ æ™´ã‚‰ã—ã„å“è³ªã§ã™ï¼æœŸå¾…ä»¥ä¸Šã§ã—ãŸã€‚ã€             â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ â˜…â˜…â˜…â˜†â˜† (é¡ä¼¼åº¦: 0.45)                                 â”‚   â”‚
â”‚  â”‚ ã€Œæ™®é€šã‹ãªã€‚ä¾¡æ ¼ã®å‰²ã«ã¯...ã€                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ©Ÿèƒ½:**
- å¹³å‡è©•ä¾¡ãƒ»è³¼å…¥ç‡ï¼ˆâ˜…4ä»¥ä¸Šã®å‰²åˆï¼‰ãƒ»ç·ãƒ¬ãƒ“ãƒ¥ãƒ¼æ•°
- è©•ä¾¡åˆ†å¸ƒã®æ£’ã‚°ãƒ©ãƒ•
- 4ã¤ã®é¡§å®¢ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåˆ¥åˆ†æ
- å®Ÿéš›ã«ç”Ÿæˆã•ã‚ŒãŸã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®è¡¨ç¤º

---

## ğŸ”§ ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```mermaid
graph TB
    subgraph Frontend["ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (Next.js)"]
        A[å…¥åŠ›ç”»é¢] --> B[çµæœç”»é¢]
    end

    subgraph Backend["ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (API Routes)"]
        C[POST /api/simulate]
        D[GET /api/results/:id]
    end

    subgraph Engine["ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ³ã‚¸ãƒ³"]
        E[Embedder<br/>ãƒ†ã‚­ã‚¹ãƒˆâ†’ãƒ™ã‚¯ãƒˆãƒ«å¤‰æ›]
        F[Predictor<br/>è©•ä¾¡äºˆæ¸¬ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ]
        G[ReviewGenerator<br/>ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆ]
        H[Aggregator<br/>çµ±è¨ˆé›†è¨ˆ]
    end

    subgraph Database["PostgreSQL + pgvector"]
        I[(customers<br/>10,000äºº)]
        J[(products)]
        K[(simulations)]
        L[(predicted_reviews)]
    end

    A -->|å•†å“èª¬æ˜æ–‡| C
    C --> E
    E -->|384æ¬¡å…ƒãƒ™ã‚¯ãƒˆãƒ«| I
    I -->|é¡ä¼¼åº¦æ¤œç´¢| F
    F --> G
    G --> H
    H -->|çµæœä¿å­˜| K
    H -->|ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¿å­˜| L
    B -->|å–å¾—| D
    D --> K
    D --> L
```

---

## ğŸ’¡ æŠ€è¡“çš„ãªãƒã‚¤ãƒ³ãƒˆ

### 1. ãƒ™ã‚¯ãƒˆãƒ«é¡ä¼¼åº¦æ¤œç´¢ï¼ˆpgvector + HNSWï¼‰

```sql
-- 10,000äººã®é¡§å®¢ã‹ã‚‰é¡ä¼¼åº¦ã®é«˜ã„é †ã«å–å¾—
SELECT
    c.id,
    c.name,
    1 - (c."preferenceVector" <=> $1::vector) as similarity
FROM customers c
ORDER BY c."preferenceVector" <=> $1::vector
```

- **HNSWã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**: O(n) â†’ O(log n) ã®é«˜é€ŸåŒ–
- **ã‚³ã‚µã‚¤ãƒ³é¡ä¼¼åº¦**: ãƒ†ã‚­ã‚¹ãƒˆã®æ„å‘³çš„ãªè¿‘ã•ã‚’æ¸¬å®š

### 2. è©•ä¾¡äºˆæ¸¬ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 

```typescript
// é¡ä¼¼åº¦ã¨ã‚»ã‚°ãƒ¡ãƒ³ãƒˆç‰¹æ€§ã‹ã‚‰è©•ä¾¡ã‚’äºˆæ¸¬
let score = similarity * 5;  // åŸºæœ¬ã‚¹ã‚³ã‚¢

if (segment === 'Quality Focused' && similarity > 0.7) {
    score += 0.8;  // å“è³ªé‡è¦–å±¤ã¯é«˜é¡ä¼¼åº¦ã§é«˜è©•ä¾¡
}
if (segment === 'Price Sensitive' && similarity < 0.6) {
    score -= 0.5;  // ä¾¡æ ¼é‡è¦–å±¤ã¯ä½é¡ä¼¼åº¦ã§å³ã—ã‚
}
// ... ãã®ä»–ã®èª¿æ•´

return Math.round(clamp(score, 1, 5));
```

### 3. ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å‡¦ç†

```typescript
// å•†å“ä½œæˆâ†’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆâ†’ãƒ¬ãƒ“ãƒ¥ãƒ¼10,000ä»¶æŒ¿å…¥ã‚’ä¸€æ‹¬ã§
await prisma.$transaction(async (tx) => {
    const product = await tx.product.create({ ... });
    const simulation = await tx.simulation.create({ ... });

    // ãƒãƒƒãƒæŒ¿å…¥ï¼ˆ1,000ä»¶ãšã¤ï¼‰
    for (const batch of chunks(reviews, 1000)) {
        await tx.$executeRaw`INSERT INTO predicted_reviews ...`;
    }
});
```

---

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### ERå›³

```mermaid
erDiagram
    Seller ||--o{ Product : "å‡ºå“"
    Category ||--o{ Product : "åˆ†é¡"
    Segment ||--o{ Customer : "æ‰€å±"
    Product ||--o{ Simulation : "å¯¾è±¡"
    Simulation ||--o{ PredictedReview : "ç”Ÿæˆ"
    Customer ||--o{ PredictedReview : "è©•ä¾¡è€…"

    Customer {
        int id PK
        int segmentId FK
        string name
        vector5 profileVector "æ€§æ ¼ç‰¹æ€§"
        vector384 preferenceVector "å—œå¥½ãƒ™ã‚¯ãƒˆãƒ«"
    }

    Product {
        int id PK
        string name
        text description
        vector384 embedding "èª¬æ˜æ–‡ãƒ™ã‚¯ãƒˆãƒ«"
    }

    PredictedReview {
        int id PK
        int simulationId FK
        int customerId FK
        int rating "1-5"
        decimal similarity "é¡ä¼¼åº¦"
        text reviewText "ç”Ÿæˆãƒ¬ãƒ“ãƒ¥ãƒ¼"
    }
```

### ãƒ†ãƒ¼ãƒ–ãƒ«ä¸€è¦§ï¼ˆ7ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ»ç¬¬3æ­£è¦å½¢ï¼‰

| ãƒ†ãƒ¼ãƒ–ãƒ« | å½¹å‰² | ãƒ¬ã‚³ãƒ¼ãƒ‰æ•° |
|---------|------|-----------|
| sellers | å‡ºå“è€…æƒ…å ± | 1 |
| categories | å•†å“ã‚«ãƒ†ã‚´ãƒª | 5 |
| products | å•†å“ï¼ˆãƒ™ã‚¯ãƒˆãƒ«ä»˜ãï¼‰ | ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ•° |
| segments | é¡§å®¢ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ | 4 |
| customers | ä»®æƒ³é¡§å®¢ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ« | **10,000** |
| simulations | ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œè¨˜éŒ² | å®Ÿè¡Œæ•° |
| predicted_reviews | äºˆæ¸¬ãƒ¬ãƒ“ãƒ¥ãƒ¼ | ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ•° Ã— 10,000 |

---

## ğŸ“ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æˆæ¥­è¦ä»¶ã¸ã®å¯¾å¿œ

| æˆæ¥­å› | ãƒ†ãƒ¼ãƒ | æœ¬ã‚·ã‚¹ãƒ†ãƒ ã§ã®å®Ÿè£… |
|--------|--------|-------------------|
| #2 | Disk and File | pgvectorã®HNSWã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼ˆéšå±¤çš„ã‚°ãƒ©ãƒ•æ§‹é€ ï¼‰ |
| #3 | RDB Table | 7ãƒ†ãƒ¼ãƒ–ãƒ«ã®æ­£è¦åŒ–è¨­è¨ˆ |
| #4 | SQL, Transaction | ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œã®ACIDä¿è¨¼ |
| #5 | FK, JOIN, SubQuery | ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåˆ¥é›†è¨ˆã®è¤‡åˆã‚¯ã‚¨ãƒª |
| #8 | æ­£è¦åŒ–, DB Tuning | ç¬¬3æ­£è¦å½¢ + EXPLAIN ANALYZEã«ã‚ˆã‚‹æœ€é©åŒ– |
| #10 | åˆ†æ•£DB | Read Replicaã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®è¨­è¨ˆ |
| #11 | Vector DB | **pgvectorã«ã‚ˆã‚‹ãƒ™ã‚¯ãƒˆãƒ«é¡ä¼¼åº¦æ¤œç´¢** |

---

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å‰ææ¡ä»¶

- Node.js 20.xä»¥ä¸Š
- PostgreSQL 15.xä»¥ä¸Šï¼ˆpgvectoræ‹¡å¼µå¿…é ˆï¼‰
- Dockerï¼ˆæ¨å¥¨ï¼‰

### ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

```bash
# 1. ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# 2. PostgreSQL + pgvectorã®èµ·å‹•ï¼ˆDockerï¼‰
docker-compose up -d

# 3. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
npx prisma migrate dev

# 4. 10,000äººã®é¡§å®¢ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆ
npx prisma db seed

# 5. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run dev
```

### å‹•ä½œç¢ºèª

1. http://localhost:3000/input ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ä»¥ä¸‹ã®ã‚µãƒ³ãƒ—ãƒ«èª¬æ˜æ–‡ã‚’å…¥åŠ›:
   ```
   é«˜ç´šã‚¤ã‚¿ãƒªã‚¢ãƒ³ãƒ¬ã‚¶ãƒ¼ã‚’ä½¿ç”¨ã—ãŸè·äººæ‰‹ä½œã‚Šã®è²¡å¸ƒã€‚
   10å¹´ä½¿ãˆã‚‹è€ä¹…æ€§ã¨ã€ä½¿ã„è¾¼ã‚€ã»ã©å‘³ãŒå‡ºã‚‹çµŒå¹´å¤‰åŒ–ãŒç‰¹å¾´ã€‚
   ```
3. ã€Œã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œã€ã‚’ã‚¯ãƒªãƒƒã‚¯
4. çµæœç”»é¢ã§äºˆæ¸¬è©•ä¾¡ã‚’ç¢ºèª

---

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ input/page.tsx        # å…¥åŠ›ç”»é¢
â”‚   â”œâ”€â”€ result/[simulationId]/page.tsx  # çµæœç”»é¢
â”‚   â””â”€â”€ api/
â”‚       â”œâ”€â”€ simulate/route.ts # ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡ŒAPI
â”‚       â””â”€â”€ results/[simulationId]/route.ts  # çµæœå–å¾—API
â”œâ”€â”€ features/
â”‚   â””â”€â”€ simulation/
â”‚       â””â”€â”€ engine/
â”‚           â”œâ”€â”€ embedder.ts   # ãƒ™ã‚¯ãƒˆãƒ«å¤‰æ›
â”‚           â”œâ”€â”€ predictor.ts  # è©•ä¾¡äºˆæ¸¬
â”‚           â”œâ”€â”€ reviewGenerator.ts  # ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”Ÿæˆ
â”‚           â””â”€â”€ aggregator.ts # çµ±è¨ˆé›†è¨ˆ
â””â”€â”€ lib/
    â””â”€â”€ prisma.ts             # DBã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ

prisma/
â”œâ”€â”€ schema.prisma             # ã‚¹ã‚­ãƒ¼ãƒå®šç¾©
â””â”€â”€ seed.ts                   # 10,000äººã®é¡§å®¢ç”Ÿæˆ
```

---

## ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | å†…å®¹ |
|-------------|------|
| [DESIGN.md](docs/DESIGN.md) | å…¨ä½“è¨­è¨ˆæ›¸ |
| [ER_DIAGRAM.md](docs/ER_DIAGRAM.md) | ERå›³è©³ç´° |
| [NORMALIZATION.md](docs/NORMALIZATION.md) | æ­£è¦åŒ–ã®è¨¼æ˜ |
| [VECTOR_SEARCH.md](docs/VECTOR_SEARCH.md) | ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ã®ä»•çµ„ã¿ |
| [TRANSACTION.md](docs/TRANSACTION.md) | ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³è¨­è¨ˆ |
| [PERFORMANCE.md](docs/PERFORMANCE.md) | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚° |

---

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| ã‚«ãƒ†ã‚´ãƒª | æŠ€è¡“ |
|---------|------|
| ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | Next.js 14 (App Router) |
| è¨€èª | TypeScript 5.x |
| ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ | PostgreSQL 15 + pgvector |
| ORM | Prisma 6.x |
| ãƒ™ã‚¯ãƒˆãƒ«å¤‰æ› | transformers.js (all-MiniLM-L6-v2) |
| UI | Tailwind CSS + Shadcn UI + Recharts |

---

## ğŸ¤” æŠ€è¡“é¸å®šã®ç†ç”±

### ãªãœ PostgreSQL + pgvector ã‹ï¼Ÿ

| é¸æŠè‚¢ | æ¤œè¨çµæœ |
|--------|---------|
| **PostgreSQL + pgvector** âœ… | RDBã®æ©Ÿèƒ½ï¼ˆãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã€å¤–éƒ¨ã‚­ãƒ¼ã€JOINï¼‰ã¨ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ã‚’**1ã¤ã®DB**ã§å®Ÿç¾ã§ãã‚‹ |
| MySQL | ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ã®æ‹¡å¼µãŒãªã„ |
| MongoDB | NoSQLã®ãŸã‚JOINãŒè‹¦æ‰‹ã€æ­£è¦åŒ–ã®åˆ©ç‚¹ãŒæ´»ã‹ã›ãªã„ |
| Pineconeç­‰ã®å°‚ç”¨VectorDB | RDBã¨åˆ¥ç®¡ç†ãŒå¿…è¦ã€ãƒ‡ãƒ¼ã‚¿åŒæœŸãŒè¤‡é›‘ |

**æ±ºå®šç†ç”±:**
- æˆæ¥­ã§å­¦ã‚“ã **ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒŠãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æ©Ÿèƒ½**ï¼ˆæ­£è¦åŒ–ã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã€å¤–éƒ¨ã‚­ãƒ¼ï¼‰ã‚’æ´»ç”¨ã—ãŸã‹ã£ãŸ
- **ãƒ™ã‚¯ãƒˆãƒ«é¡ä¼¼åº¦æ¤œç´¢**ã‚‚å¿…è¦ã ã£ãŸã®ã§ã€pgvectoræ‹¡å¼µã§ä¸¡ç«‹
- 1ã¤ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã§å®Œçµã™ã‚‹ãŸã‚ã€**ãƒ‡ãƒ¼ã‚¿ã®æ•´åˆæ€§**ã‚’ä¿ã¡ã‚„ã™ã„

### ãªãœ transformers.js ã‹ï¼Ÿ

| é¸æŠè‚¢ | æ¤œè¨çµæœ |
|--------|---------|
| **transformers.js** âœ… | ãƒ­ãƒ¼ã‚«ãƒ«ã§å®Ÿè¡Œå¯èƒ½ã€APIè²»ç”¨ãªã—ã€æ±ºå®šè«–çš„ï¼ˆåŒã˜å…¥åŠ›â†’åŒã˜å‡ºåŠ›ï¼‰ |
| OpenAI Embeddings API | APIè²»ç”¨ãŒã‹ã‹ã‚‹ã€ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚ã‚Š |
| è‡ªä½œãƒ¢ãƒ‡ãƒ« | é–‹ç™ºå·¥æ•°ãŒè†¨å¤§ |

---

## ğŸ› ï¸ é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹

### é–‹ç™ºæœŸé–“

| ãƒ•ã‚§ãƒ¼ã‚º | æœŸé–“ | å†…å®¹ |
|---------|------|------|
| ä¼ç”»ãƒ»è¨­è¨ˆ | 1æ—¥ | ãƒšãƒ«ã‚½ãƒŠå®šç¾©ã€ERå›³è¨­è¨ˆã€æŠ€è¡“é¸å®š |
| DBè¨­è¨ˆ | 1æ—¥ | ã‚¹ã‚­ãƒ¼ãƒå®šç¾©ã€æ­£è¦åŒ–ã€ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ |
| ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ | 2æ—¥ | APIå®Ÿè£…ã€ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ã€ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ³ã‚¸ãƒ³ |
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | 1æ—¥ | å…¥åŠ›ç”»é¢ã€çµæœç”»é¢ã€ã‚°ãƒ©ãƒ•è¡¨ç¤º |
| ãƒ†ã‚¹ãƒˆãƒ»ä¿®æ­£ | 1æ—¥ | ãƒ‡ãƒãƒƒã‚°ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹èª¿æ•´ |
| **åˆè¨ˆ** | **ç´„1é€±é–“** | |

### é–‹ç™ºã®é€²ã‚æ–¹

1. **è¨­è¨ˆãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**: ã¾ãšERå›³ã¨APIè¨­è¨ˆã‚’å›ºã‚ã¦ã‹ã‚‰å®Ÿè£…
2. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆé§†å‹•**: è¨­è¨ˆæ›¸ã‚’å…ˆã«æ›¸ãã€ãã‚Œã«æ²¿ã£ã¦å®Ÿè£…
3. **æ®µéšçš„ãªå®Ÿè£…**: ã‚·ãƒ¼ãƒ‰ â†’ API â†’ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®é †ã§æ§‹ç¯‰

---

## ğŸ¤– AIï¼ˆClaude Codeï¼‰ã®æ´»ç”¨

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯**Claude Code**ã‚’æ´»ç”¨ã—ã¦é–‹ç™ºã‚’åŠ¹ç‡åŒ–ã—ã¾ã—ãŸã€‚

### æ´»ç”¨ã—ãŸå ´é¢

| å ´é¢ | æ´»ç”¨æ–¹æ³• |
|------|---------|
| **ã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆ** | æ­£è¦åŒ–ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã€å¤–éƒ¨ã‚­ãƒ¼è¨­è¨ˆã®ç›¸è«‡ |
| **ã‚³ãƒ¼ãƒ‰å®Ÿè£…** | APIãƒ«ãƒ¼ãƒˆã€ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ³ã‚¸ãƒ³ã®å®Ÿè£… |
| **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ** | è¨­è¨ˆæ›¸ã€æ­£è¦åŒ–è¨¼æ˜ã€æŠ€è¡“ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ |
| **ãƒ‡ãƒãƒƒã‚°** | ã‚¨ãƒ©ãƒ¼ã®åŸå› ç‰¹å®šã€ä¿®æ­£æ¡ˆã®æç¤º |

### äººé–“ãŒåˆ¤æ–­ã—ãŸéƒ¨åˆ†

- **ãƒšãƒ«ã‚½ãƒŠè¨­è¨ˆ**: ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ±ºå®š
- **è©•ä¾¡äºˆæ¸¬ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ **: ã©ã®ã‚ˆã†ãªæ¡ä»¶ã§é«˜è©•ä¾¡/ä½è©•ä¾¡ã«ã™ã‚‹ã‹
- **UI/UXãƒ‡ã‚¶ã‚¤ãƒ³**: çµæœç”»é¢ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€ã‚°ãƒ©ãƒ•ã®é¸æŠ
- **æŠ€è¡“é¸å®š**: PostgreSQL + pgvectorã‚’ä½¿ã†åˆ¤æ–­

### å­¦ã‚“ã ã“ã¨

- AIã¯ã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆã‚’åŠ¹ç‡åŒ–ã™ã‚‹ãŒã€**è¨­è¨ˆã®æ„æ€æ±ºå®šã¯äººé–“ãŒè¡Œã†**å¿…è¦ãŒã‚ã‚‹
- ã€Œãªãœã“ã®è¨­è¨ˆã«ã—ãŸã®ã‹ã€ã‚’èª¬æ˜ã§ãã‚‹ã‚ˆã†ã€AIã®å‡ºåŠ›ã‚’ç†è§£ã™ã‚‹ã“ã¨ãŒé‡è¦

---

## ğŸ“ ä¸»è¦ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®è§£èª¬

### 1. ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å‡¦ç†ï¼ˆåŸå­æ€§ã®ä¿è¨¼ï¼‰

**ãƒ•ã‚¡ã‚¤ãƒ«:** `src/app/api/simulate/route.ts`

```typescript
// å•†å“ã¨ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’1ã¤ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã§ä½œæˆ
const result = await prisma.$transaction(async (tx) => {
  // 1. å•†å“ã‚’ä½œæˆ
  await tx.$executeRawUnsafe(`
    INSERT INTO products (id, ..., embedding)
    VALUES ('${productId}', ..., '${vectorString}'::vector(384))
  `);

  // 2. ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆ
  const simulation = await tx.simulation.create({
    data: { productId, status: 'RUNNING' }
  });

  return { productId, simulationId: simulation.id };
});
// â†’ ã©ã¡ã‚‰ã‹ãŒå¤±æ•—ã—ãŸã‚‰ä¸¡æ–¹ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
```

### 2. ãƒ™ã‚¯ãƒˆãƒ«é¡ä¼¼åº¦æ¤œç´¢ï¼ˆpgvectorï¼‰

**ãƒ•ã‚¡ã‚¤ãƒ«:** `src/features/vector/search.ts`

```typescript
// ã‚³ã‚µã‚¤ãƒ³è·é›¢æ¼”ç®—å­ <=> ã‚’ä½¿ç”¨
const results = await prisma.$queryRaw`
  SELECT
    c.id,
    (1 - (c."preferenceVector" <=> ${vectorString}::vector(384))) as similarity
  FROM customers c
  ORDER BY c."preferenceVector" <=> ${vectorString}::vector(384)
  LIMIT 10000
`;
// â†’ HNSWã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã«ã‚ˆã‚Š O(log n) ã§æ¤œç´¢
```

### 3. å¤–éƒ¨ã‚­ãƒ¼åˆ¶ç´„ï¼ˆCASCADE DELETEï¼‰

**ãƒ•ã‚¡ã‚¤ãƒ«:** `prisma/schema.prisma`

```prisma
model PredictedReview {
  simulation Simulation @relation(onDelete: Cascade)
  // â†’ ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å‰Šé™¤æ™‚ã«äºˆæ¸¬ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚‚è‡ªå‹•å‰Šé™¤
}
```

### 4. ãƒãƒƒãƒINSERTï¼ˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ï¼‰

**ãƒ•ã‚¡ã‚¤ãƒ«:** `src/app/api/simulate/route.ts`

```typescript
// 1ä»¶ãšã¤INSERTã§ã¯ãªãã€1000ä»¶ãšã¤ãƒãƒƒãƒã§æŒ¿å…¥
const BATCH_SIZE = 1000;
for (let i = 0; i < predictions.length; i += BATCH_SIZE) {
  const batch = predictions.slice(i, i + BATCH_SIZE);
  const values = batch.map(p => `(...)`).join(',');
  await prisma.$executeRawUnsafe(`INSERT INTO ... VALUES ${values}`);
}
// â†’ 10,000ä»¶ã‚’10å›ã®INSERTã§å‡¦ç†ï¼ˆ10å€é«˜é€ŸåŒ–ï¼‰
```

---

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT
