(()=>{var e={};e.id=769,e.ids=[769],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5228:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>d,routeModule:()=>m,tree:()=>c}),s(4966),s(2029),s(5866);var r=s(3191),a=s(8716),l=s(7922),n=s.n(l),i=s(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let c=["",{children:["input",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4966)),"C:\\Users\\赤塩甫\\OneDrive\\ドキュメント\\授業\\データベース\\finalapp\\src\\app\\input\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2029)),"C:\\Users\\赤塩甫\\OneDrive\\ドキュメント\\授業\\データベース\\finalapp\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\赤塩甫\\OneDrive\\ドキュメント\\授業\\データベース\\finalapp\\src\\app\\input\\page.tsx"],x="/input/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/input/page",pathname:"/input",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},673:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},5322:()=>{},8870:(e,t,s)=>{Promise.resolve().then(s.bind(s,1402))},5047:(e,t,s)=>{"use strict";var r=s(7389);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},1402:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(326),a=s(7577),l=s(5047);function n(){let e=(0,l.useRouter)(),[t,s]=(0,a.useState)(""),[n,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(null),[d,x]=(0,a.useState)([]),[u,m]=(0,a.useState)(null),p=async s=>{if(s.preventDefault(),c(null),t.length<10){c("商品説明は10文字以上入力してください");return}i(!0);try{let s=await fetch("/api/simulate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:t})}),r=await s.json();if(!s.ok)throw Error(r.error||"シミュレーションに失敗しました");e.push(`/result/${r.simulationId}`)}catch(e){c(e instanceof Error?e.message:"エラーが発生しました"),i(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-12 max-w-2xl",children:[(0,r.jsxs)("div",{className:"text-center mb-10",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Review Predictor"}),r.jsx("p",{className:"text-gray-600 text-lg",children:"商品説明を入力して、10,000人の顧客がどう評価するかをシミュレーションします"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[(0,r.jsxs)("form",{onSubmit:p,children:[(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"商品説明"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[r.jsx("span",{className:"text-xs text-gray-500 self-center",children:"サンプル:"}),[{label:"高級財布",text:"高級イタリアンレザーを使用した職人手作りの本革財布。10年使える耐久性と、使い込むほど味が出る経年変化が特徴。カード収納12枚、小銭入れ付き。シンプルで飽きのこないデザイン。"},{label:"ワイヤレスイヤホン",text:"最新のノイズキャンセリング技術搭載のワイヤレスイヤホン。バッテリー持続時間30時間。IPX5防水対応でスポーツにも最適。クリアな高音質とパワフルな重低音を実現。"},{label:"オーガニック化粧品",text:"100%天然由来成分のオーガニックスキンケアセット。敏感肌の方にも安心。パラベンフリー、合成香料不使用。植物の力で肌本来の美しさを引き出します。"}].map(e=>r.jsx("button",{type:"button",onClick:()=>s(e.text),disabled:n,className:"px-3 py-1 text-xs bg-gray-100 hover:bg-blue-100 text-gray-700 hover:text-blue-700 rounded-full border border-gray-300 hover:border-blue-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e.label},e.label))]}),r.jsx("textarea",{id:"description",value:t,onChange:e=>s(e.target.value),placeholder:"例: 高級レザーを使用した職人手作りの本革財布。シンプルで飽きのこないデザイン。カード収納8枚、小銭入れ付き。",className:"w-full h-40 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none text-gray-800",disabled:n}),(0,r.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:[t.length," / 2000文字"]})]}),o&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-red-600 text-sm",children:o})}),r.jsx("button",{type:"submit",disabled:n||t.length<10,className:`w-full py-4 px-6 rounded-lg text-white font-semibold text-lg transition-all
                ${n||t.length<10?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 shadow-lg hover:shadow-xl"}`,children:n?(0,r.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,r.jsxs)("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"シミュレーション中..."]}):"シミュレーションを実行"})]}),(0,r.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"シミュレーションの仕組み"}),(0,r.jsxs)("ul",{className:"text-sm text-gray-600 space-y-2",children:[(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-500",children:"1."}),"商品説明をAIがベクトル化"]}),(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-500",children:"2."}),"10,000人の仮想顧客との類似度を計算"]}),(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-500",children:"3."}),"各顧客の評価（1-5星）を予測"]}),(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-500",children:"4."}),"セグメント別の分析結果を表示"]})]})]})]}),(0,r.jsxs)("div",{className:"mt-10",children:[r.jsx("h2",{className:"text-sm font-semibold text-gray-700 mb-3",children:"直近のシミュレーション"}),u&&r.jsx("p",{className:"text-xs text-red-500 mb-2",children:u}),0===d.length?r.jsx("p",{className:"text-sm text-gray-500",children:"まだシミュレーション履歴がありません。"}):r.jsx("ul",{className:"space-y-3",children:d.map(t=>(0,r.jsxs)("li",{className:"flex items-center justify-between px-4 py-3 bg-white/60 rounded-lg border border-gray-200 hover:border-blue-300 hover:bg-blue-50 cursor-pointer transition",onClick:()=>e.push(`/result/${t.id}`),children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:t.product.name}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 truncate",children:[new Date(t.createdAt).toLocaleString("ja-JP")," ・"," ",t.product.category]})]}),(0,r.jsxs)("div",{className:"ml-4 text-right",children:[r.jsx("p",{className:"text-sm text-gray-700",children:null!==t.avgRating?`${t.avgRating.toFixed(1)}★`:"-"}),r.jsx("p",{className:"text-xs text-gray-500",children:null!==t.conversionRate?`高評価率 ${t.conversionRate.toFixed(1)}%`:t.status})]})]},t.id))})]}),r.jsx("p",{className:"text-center text-sm text-gray-500 mt-8",children:"データベース授業 最終課題 - Review Predictor"})]})})}},4966:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`C:\Users\赤塩甫\OneDrive\ドキュメント\授業\データベース\finalapp\src\app\input\page.tsx#default`)},2029:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>a});var r=s(9510);s(5023);let a={title:"Review Predictor",description:"Review prediction application"};function l({children:e}){return r.jsx("html",{lang:"ja",children:r.jsx("body",{children:e})})}},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,471],()=>s(5228));module.exports=r})();